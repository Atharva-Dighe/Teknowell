<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart</title>
    <link rel="stylesheet" href="../CSS/foodOrderSystem.css">
</head>

<body id="cartPg">
    <h1>Items in Your Cart</h1>
    <ol id="billList"></ol>
    <h2 id="total"></h2>

    <script>
        
        const cartArray = JSON.parse(localStorage.getItem('arr'));
        console.log("Array retrived from Restaurant Page is : ", cartArray);

        const billList = document.getElementById('billList');
        const totalCost = document.getElementById('total');

        if (cartArray && cartArray.length > 0) 
        {
            let totalPrice = 0;
            const listItems = cartArray.map(item => 
            {
                totalPrice += item.TotalPrice;
                return `<li>${item.Name} - ₹${item.Price} x ${item.Quantity} = ₹${item.TotalPrice}</li>`;
            });
            billList.innerHTML = listItems.join('');
            total.innerText = `Total Amount: ₹${totalPrice}`;
        }
        else 
        {
            billList.innerHTML = "<li>Your cart is empty.</li>";
            totalAmount.innerText = "";
        }

    </script>

</body>

</html>