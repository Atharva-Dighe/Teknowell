<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS A-9 WITHDRAW Page</title>
    <link rel="stylesheet" href="./Assignment9.css">
</head>

<body>

    <h1>WITHDRAW PAGE</h1>
    <div class="ipDiv">    
        <form>
            <label>Enter Amount to Withdraw: </label>
            <input type="number" id="withdrawAmt" placeholder="Withdraw Amt" value="200"><br><br>
        </form>
        <button onclick="withdrawFunction()">WITHDRAW</button>
    </div>
    <h3 id="dispBalance"></h3>

    <script>
        let Bal = parseInt(localStorage.getItem('balance'));    //Getting data from another page using Local Storage getItem()
        console.log("Balance retrieved from Main.html page: ", Bal);
        function withdrawFunction() 
        {
            let WithdrawAmount = document.getElementById("withdrawAmt").value;
            console.log("Withdraw Amount Entered: ", WithdrawAmount);
            dispBalance.innerHTML=`Balance Amount before Withdrawing is <br> Rs ${Bal}/-`;
            console.log(`Amount before withdrawing is Rs ${Bal}/-`);
            if(Bal>WithdrawAmount)
            {
                Bal= (parseInt(Bal)-parseInt(WithdrawAmount));
                console.log(`Final Balance after withdrawing is: ${Bal}`);
                dispBalance.innerHTML+=`<hr> Rs ${WithdrawAmount}/- Withdrawed <hr> Final Balance Amount after <br>Withdrawing Rs ${WithdrawAmount}/- is <br> Rs ${Bal}/-`;
            }
            else
            {
                dispBalance.innerHTML=`Insufficeint Balance!<br> Your Account Balance is Rs ${Bal}/- <br>& hence you can't Withdraw Rs ${WithdrawAmount}/- from your account.`;
                alert("Insufficeint Balance!")
            }
        }
    </script>

</body>

</html>